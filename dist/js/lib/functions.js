import*as vars from"./vars.js";const delay=t=>new Promise((e=>setTimeout(e,t)));function sendMessage(t){let e=document.querySelector(".chat-screen .messages"),n=document.createElement("p");n.textContent=`ServerName : ${t}`,e.appendChild(n),n.scrollIntoView({behavior:"smooth"})}function theme(t="dark"){"dark"===t?document.body.classList.add("dark-mode"):"light"===t?document.body.classList.remove("dark-mode"):console.error(`No Theme Called ${t}`)}function updateURL(t){const e=t.replace("-screen",""),n={screen:e};history.pushState(n,"",`${window.location.pathname}#${e}`)}async function navigateToScreen(t){const e=document.querySelector("."+t);e&&(e.style.display="block",await delay(0),e.style.left=0,document.body.classList.add("disable-scrolling"),updateURL(t))}function initializeFromURL(){if(""!==window.location.hash)try{let t=`${window.location.hash.match(/[^#]/gim).join("")}-screen`;history.pushState({screen:""},"",`${window.location.pathname}`),navigateToScreen(t)}catch(t){console.error("Error "+t)}}function loadSettings(){const t=JSON.parse(localStorage.getItem("config"))||{},e=vars.elesToSaveData;vars.radioElesToSaveData.forEach((e=>{document.querySelectorAll(`[data-group="${e.group}"]`).forEach((t=>t.checked=!1));const n=e.settingIds.reduce(((t,e)=>t?.[e]),t);document.querySelector(`[${e.elesSelector}=${n}]`).checked=!0})),e.forEach((e=>{const n=document.querySelector(e.id);if(!n)return;const o=e.settingIds.reduce(((t,e)=>t[e]),t);switch(e.type){case"input":case"time-chooser":case"color-chooser":n.value=o;break;case"switch":n.checked=Boolean(o);break;case"number-chooser":n.textContent=o}}))}function loadRoles(){let t=["players-roles"];const e=JSON.parse(localStorage.getItem("config")),n=t.reduce(((t,e)=>t[e]),e);document.querySelector("#roles-management > div.container.body").innerHTML="";for(let o=0;o<n.length;o++){let a=o+1,l=n[o],r=document.createElement("ul");r.innerHTML=`\n\t\t\t\t<li>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<span>Player Number ${a} :</span>\n\t\t\t\t\t\t\t<button class="circle remove"><i class="fa-solid fa-minus"></i></button>\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t\t<label class="form">\n\t\t\t\t\t\t<span>Player pb </span\n\t\t\t\t\t\t><textarea\n\t\t\t\t\t\t\tclass="player-${a}-pb"\n\t\t\t\t\t\t\tid="player-${a}-pb-roles"\n\t\t\t\t\t\t\tplaceholder="Enter Player pb"\n\t\t\t\t\t\t>${l.id}</textarea>\n\t\t\t\t\t</label>\n\t\t\t\t</li>\n\t\t\t\t<li class="popup">\n\t\t\t\t\t<span>Role: </span\n\t\t\t\t\t><button class="select-combobox"><span>Owner</span></button>\n\t\t\t\t\t<div class="popup-window">\n\t\t\t\t\t\t<div class="popup-header">\n\t\t\t\t\t\t\t<h5>Role Chooser</h5>\n\t\t\t\t\t\t\t<button class="close circle">\n\t\t\t\t\t\t\t\t<i class="fa fa-close"></i> \n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="body mt-2">\n\t\t\t\t\t\t\t<form>\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t<label class="radio-box"\n\t\t\t\t\t\t\t\t\t\t\t><span>Owner</span\n\t\t\t\t\t\t\t\t\t\t\t><span\n\t\t\t\t\t\t\t\t\t\t\t\t><input\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass="toggle-radio role "\n\t\t\t\t\t\t\t\t\t\t\t\t\tid="owner-role-${a}"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype="radio"\n\t\t\t\t\t\t\t\t\t\t\t\t\tname="owner-role-${a}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata-group="role-${a}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata-role="owner"\n\t\t\t\t\t\t\t\t\t\t\t\t\t/><button\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass="toggle-radio-box"\n\t\t\t\t\t\t\t\t\t\t\t\t></button></span\n\t\t\t\t\t\t\t\t\t\t></label>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t<label class="radio-box"\n\t\t\t\t\t\t\t\t\t\t\t><span>Co-Owner</span\n\t\t\t\t\t\t\t\t\t\t\t><span\n\t\t\t\t\t\t\t\t\t\t\t\t><input\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass="toggle-radio role"\n\t\t\t\t\t\t\t\t\t\t\t\t\tid="co-owner-role-${a}"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype="radio"\n\t\t\t\t\t\t\t\t\t\t\t\t\tname="co-owner-role-${a}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata-group="role-${a}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata-role="co-owner" /><button\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass="toggle-radio-box"\n\t\t\t\t\t\t\t\t\t\t\t\t></button></span\n\t\t\t\t\t\t\t\t\t\t></label>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t<label class="radio-box"\n\t\t\t\t\t\t\t\t\t\t\t><span>Lead Staff</span\n\t\t\t\t\t\t\t\t\t\t\t><span\n\t\t\t\t\t\t\t\t\t\t\t\t><input\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass="toggle-radio role "\n\t\t\t\t\t\t\t\t\t\t\t\t\tid="lead-staff-role-${a}"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype="radio"\n\t\t\t\t\t\t\t\t\t\t\t\t\tname="lead-staff-role-${a}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata-group="role-${a}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata-role="lead-staff" /><button\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass="toggle-radio-box"\n\t\t\t\t\t\t\t\t\t\t\t\t></button></span\n\t\t\t\t\t\t\t\t\t\t></label>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t<label class="radio-box"\n\t\t\t\t\t\t\t\t\t\t\t><span>Moderator</span\n\t\t\t\t\t\t\t\t\t\t\t><span\n\t\t\t\t\t\t\t\t\t\t\t\t><input\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass="toggle-radio role"\n\t\t\t\t\t\t\t\t\t\t\t\t\tid="moderator-role-${a}"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype="radio"\n\t\t\t\t\t\t\t\t\t\t\t\t\tname="moderator-role-${a}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata-group="role-${a}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata-role="moderator" /><button\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass="toggle-radio-box"\n\t\t\t\t\t\t\t\t\t\t\t\t></button></span\n\t\t\t\t\t\t\t\t\t\t></label>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t<label class="radio-box"\n\t\t\t\t\t\t\t\t\t\t\t><span>Trial Moderator</span\n\t\t\t\t\t\t\t\t\t\t\t><span\n\t\t\t\t\t\t\t\t\t\t\t\t><input\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass="toggle-radio role"\n\t\t\t\t\t\t\t\t\t\t\t\t\tid="trial-moderator-role-${a}"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype="radio"\n\t\t\t\t\t\t\t\t\t\t\t\t\tname="trial-moderator-role-${a}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata-group="role-${a}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata-role="trial-moderator" /><button\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass="toggle-radio-box"\n\t\t\t\t\t\t\t\t\t\t\t\t></button></span\n\t\t\t\t\t\t\t\t\t\t></label>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t<label class="radio-box"\n\t\t\t\t\t\t\t\t\t\t\t><span>Senior Complain Staff</span\n\t\t\t\t\t\t\t\t\t\t\t><span\n\t\t\t\t\t\t\t\t\t\t\t\t><input\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass="toggle-radio role "\n\t\t\t\t\t\t\t\t\t\t\t\t\tid="senior-complain-staff-role-${a}"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype="radio"\n\t\t\t\t\t\t\t\t\t\t\t\t\tname="senior-complain-staff-role-${a}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata-group="role-${a}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata-role="senior-complain-staff" /><button\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass="toggle-radio-box"\n\t\t\t\t\t\t\t\t\t\t\t\t></button></span\n\t\t\t\t\t\t\t\t\t\t></label>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t<label class="radio-box"\n\t\t\t\t\t\t\t\t\t\t\t><span>Complain Staff</span\n\t\t\t\t\t\t\t\t\t\t\t><span\n\t\t\t\t\t\t\t\t\t\t\t\t><input\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass="toggle-radio role"\n\t\t\t\t\t\t\t\t\t\t\t\t\tid="complain-staff-role-${a}"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype="radio"\n\t\t\t\t\t\t\t\t\t\t\t\t\tname="complain-staff-role-${a}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata-group="role-${a}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata-role="complain-staff" /><button\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass="toggle-radio-box"\n\t\t\t\t\t\t\t\t\t\t\t\t></button></span\n\t\t\t\t\t\t\t\t\t\t></label>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t<label class="radio-box"\n\t\t\t\t\t\t\t\t\t\t\t><span>Trial Complain Staff</span\n\t\t\t\t\t\t\t\t\t\t\t><span\n\t\t\t\t\t\t\t\t\t\t\t\t><input\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass="toggle-radio role "\n\t\t\t\t\t\t\t\t\t\t\t\t\tid="trial-complain-staff-role-${a}"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype="radio"\n\t\t\t\t\t\t\t\t\t\t\t\t\tname="trial-complain-staff-role-${a}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata-group="role-${a}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata-role="trial-complain-staff" /><button\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass="toggle-radio-box"\n\t\t\t\t\t\t\t\t\t\t\t\t></button></span\n\t\t\t\t\t\t\t\t\t\t></label>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t<label class="radio-box"\n\t\t\t\t\t\t\t\t\t\t\t><span>Admin</span\n\t\t\t\t\t\t\t\t\t\t\t><span\n\t\t\t\t\t\t\t\t\t\t\t\t><input\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass="toggle-radio role "\n\t\t\t\t\t\t\t\t\t\t\t\t\tid="admin-role-${a}"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype="radio"\n\t\t\t\t\t\t\t\t\t\t\t\t\tname="admin-role-${a}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata-group="role-${a}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata-role="admin" /><button\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass="toggle-radio-box"\n\t\t\t\t\t\t\t\t\t\t\t\t></button></span\n\t\t\t\t\t\t\t\t\t\t></label>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t<label class="radio-box"\n\t\t\t\t\t\t\t\t\t\t\t><span>VIP</span\n\t\t\t\t\t\t\t\t\t\t\t><span\n\t\t\t\t\t\t\t\t\t\t\t\t><input\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass="toggle-radio role "\n\t\t\t\t\t\t\t\t\t\t\t\t\tid="vip-role-${a}"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype="radio"\n\t\t\t\t\t\t\t\t\t\t\t\t\tname="vip-role-${a}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata-group="role-${a}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata-role="vip" /><button\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass="toggle-radio-box"\n\t\t\t\t\t\t\t\t\t\t\t\t></button></span\n\t\t\t\t\t\t\t\t\t\t></label>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="overley"></div>\n\t\t\t\t</li>\n\t\t`,document.querySelector("#roles-management > div.container.body").append(r),r.querySelectorAll("input[type='radio']").forEach((t=>t.checked=!1)),r.querySelectorAll(".select-combobox").forEach((t=>{t.nextElementSibling.querySelectorAll("label.radio-box").forEach((e=>e.querySelector(".toggle-radio").onclick=()=>{t.children[0].textContent=e.children[0].textContent}))})),r.querySelector(`input[data-role="${l.role}"]`)?r.querySelector(`input[data-role="${l.role}"]`).click():r.querySelector('input[data-role="vip"]').click(),r.querySelector(`#player-${a}-pb-roles`).oninput=n=>{let a=n.target.value,l=e;for(let e=0;e<t.length;e++){l=l[t[e]]}l[o].id=a,localStorage.setItem("config",JSON.stringify(e))},r.querySelectorAll("input[type='radio']").forEach((n=>{n.addEventListener("click",(n=>{let a=n.target.dataset.role,l=e;for(let e=0;e<t.length;e++){l=l[t[e]]}l[o].role=a,localStorage.setItem("config",JSON.stringify(e))}))}))}}function createNewRoleBlock(){let t=["players-roles"];const e=JSON.parse(localStorage.getItem("config"));t.reduce(((t,e)=>t[e]),e);let n=document.querySelector("#roles-management > div.container.body").children.length,o=n+1,a=document.createElement("ul");a.innerHTML=`\n\t\t\t\t<li>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<span>Player Number ${o} :</span>\n\t\t\t\t\t\t\t<button class="circle remove"><i class="fa-solid fa-minus"></i></button>\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t\t<label class="form">\n\t\t\t\t\t\t<span>Player pb </span\n\t\t\t\t\t\t><textarea\n\t\t\t\t\t\t\tclass="player-${o}-pb"\n\t\t\t\t\t\t\tid="player-${o}-pb-roles"\n\t\t\t\t\t\t\tplaceholder="Enter Player pb"\n\t\t\t\t\t\t></textarea>\n\t\t\t\t\t</label>\n\t\t\t\t</li>\n\t\t\t\t<li class="popup">\n\t\t\t\t\t<span>Role: </span\n\t\t\t\t\t><button class="select-combobox"><span>Owner</span></button>\n\t\t\t\t\t<div class="popup-window">\n\t\t\t\t\t\t<div class="popup-header">\n\t\t\t\t\t\t\t<h5>Role Chooser</h5>\n\t\t\t\t\t\t\t<button class="close circle">\n\t\t\t\t\t\t\t\t<i class="fa fa-close"></i> \n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="body mt-2">\n\t\t\t\t\t\t\t<form>\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t<label class="radio-box"\n\t\t\t\t\t\t\t\t\t\t\t><span>Owner</span\n\t\t\t\t\t\t\t\t\t\t\t><span\n\t\t\t\t\t\t\t\t\t\t\t\t><input\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass="toggle-radio role "\n\t\t\t\t\t\t\t\t\t\t\t\t\tid="owner-role-${o}"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype="radio"\n\t\t\t\t\t\t\t\t\t\t\t\t\tname="owner-role-${o}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata-group="role-${o}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata-role="owner"\n\t\t\t\t\t\t\t\t\t\t\t\t\t/><button\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass="toggle-radio-box"\n\t\t\t\t\t\t\t\t\t\t\t\t></button></span\n\t\t\t\t\t\t\t\t\t\t></label>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t<label class="radio-box"\n\t\t\t\t\t\t\t\t\t\t\t><span>Co-Owner</span\n\t\t\t\t\t\t\t\t\t\t\t><span\n\t\t\t\t\t\t\t\t\t\t\t\t><input\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass="toggle-radio role"\n\t\t\t\t\t\t\t\t\t\t\t\t\tid="co-owner-role-${o}"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype="radio"\n\t\t\t\t\t\t\t\t\t\t\t\t\tname="co-owner-role-${o}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata-group="role-${o}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata-role="co-owner" /><button\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass="toggle-radio-box"\n\t\t\t\t\t\t\t\t\t\t\t\t></button></span\n\t\t\t\t\t\t\t\t\t\t></label>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t<label class="radio-box"\n\t\t\t\t\t\t\t\t\t\t\t><span>Lead Staff</span\n\t\t\t\t\t\t\t\t\t\t\t><span\n\t\t\t\t\t\t\t\t\t\t\t\t><input\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass="toggle-radio role "\n\t\t\t\t\t\t\t\t\t\t\t\t\tid="lead-staff-role-${o}"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype="radio"\n\t\t\t\t\t\t\t\t\t\t\t\t\tname="lead-staff-role-${o}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata-group="role-${o}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata-role="lead-staff" /><button\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass="toggle-radio-box"\n\t\t\t\t\t\t\t\t\t\t\t\t></button></span\n\t\t\t\t\t\t\t\t\t\t></label>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t<label class="radio-box"\n\t\t\t\t\t\t\t\t\t\t\t><span>Moderator</span\n\t\t\t\t\t\t\t\t\t\t\t><span\n\t\t\t\t\t\t\t\t\t\t\t\t><input\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass="toggle-radio role"\n\t\t\t\t\t\t\t\t\t\t\t\t\tid="moderator-role-${o}"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype="radio"\n\t\t\t\t\t\t\t\t\t\t\t\t\tname="moderator-role-${o}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata-group="role-${o}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata-role="moderator" /><button\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass="toggle-radio-box"\n\t\t\t\t\t\t\t\t\t\t\t\t></button></span\n\t\t\t\t\t\t\t\t\t\t></label>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t<label class="radio-box"\n\t\t\t\t\t\t\t\t\t\t\t><span>Trial Moderator</span\n\t\t\t\t\t\t\t\t\t\t\t><span\n\t\t\t\t\t\t\t\t\t\t\t\t><input\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass="toggle-radio role"\n\t\t\t\t\t\t\t\t\t\t\t\t\tid="trial-moderator-role-${o}"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype="radio"\n\t\t\t\t\t\t\t\t\t\t\t\t\tname="trial-moderator-role-${o}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata-group="role-${o}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata-role="trial-moderator" /><button\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass="toggle-radio-box"\n\t\t\t\t\t\t\t\t\t\t\t\t></button></span\n\t\t\t\t\t\t\t\t\t\t></label>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t<label class="radio-box"\n\t\t\t\t\t\t\t\t\t\t\t><span>Senior Complain Staff</span\n\t\t\t\t\t\t\t\t\t\t\t><span\n\t\t\t\t\t\t\t\t\t\t\t\t><input\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass="toggle-radio role "\n\t\t\t\t\t\t\t\t\t\t\t\t\tid="senior-complain-staff-role-${o}"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype="radio"\n\t\t\t\t\t\t\t\t\t\t\t\t\tname="senior-complain-staff-role-${o}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata-group="role-${o}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata-role="senior-complain-staff" /><button\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass="toggle-radio-box"\n\t\t\t\t\t\t\t\t\t\t\t\t></button></span\n\t\t\t\t\t\t\t\t\t\t></label>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t<label class="radio-box"\n\t\t\t\t\t\t\t\t\t\t\t><span>Complain Staff</span\n\t\t\t\t\t\t\t\t\t\t\t><span\n\t\t\t\t\t\t\t\t\t\t\t\t><input\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass="toggle-radio role"\n\t\t\t\t\t\t\t\t\t\t\t\t\tid="complain-staff-role-${o}"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype="radio"\n\t\t\t\t\t\t\t\t\t\t\t\t\tname="complain-staff-role-${o}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata-group="role-${o}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata-role="complain-staff" /><button\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass="toggle-radio-box"\n\t\t\t\t\t\t\t\t\t\t\t\t></button></span\n\t\t\t\t\t\t\t\t\t\t></label>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t<label class="radio-box"\n\t\t\t\t\t\t\t\t\t\t\t><span>Trial Complain Staff</span\n\t\t\t\t\t\t\t\t\t\t\t><span\n\t\t\t\t\t\t\t\t\t\t\t\t><input\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass="toggle-radio role "\n\t\t\t\t\t\t\t\t\t\t\t\t\tid="trial-complain-staff-role-${o}"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype="radio"\n\t\t\t\t\t\t\t\t\t\t\t\t\tname="trial-complain-staff-role-${o}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata-group="role-${o}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata-role="trial-complain-staff" /><button\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass="toggle-radio-box"\n\t\t\t\t\t\t\t\t\t\t\t\t></button></span\n\t\t\t\t\t\t\t\t\t\t></label>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t<label class="radio-box"\n\t\t\t\t\t\t\t\t\t\t\t><span>Admin</span\n\t\t\t\t\t\t\t\t\t\t\t><span\n\t\t\t\t\t\t\t\t\t\t\t\t><input\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass="toggle-radio role "\n\t\t\t\t\t\t\t\t\t\t\t\t\tid="admin-role-${o}"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype="radio"\n\t\t\t\t\t\t\t\t\t\t\t\t\tname="admin-role-${o}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata-group="role-${o}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata-role="admin" /><button\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass="toggle-radio-box"\n\t\t\t\t\t\t\t\t\t\t\t\t></button></span\n\t\t\t\t\t\t\t\t\t\t></label>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t<label class="radio-box"\n\t\t\t\t\t\t\t\t\t\t\t><span>VIP</span\n\t\t\t\t\t\t\t\t\t\t\t><span\n\t\t\t\t\t\t\t\t\t\t\t\t><input\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass="toggle-radio role "\n\t\t\t\t\t\t\t\t\t\t\t\t\tid="vip-role-${o}"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype="radio"\n\t\t\t\t\t\t\t\t\t\t\t\t\tname="vip-role-${o}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata-group="role-${o}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata-role="vip" /><button\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass="toggle-radio-box"\n\t\t\t\t\t\t\t\t\t\t\t\t></button></span\n\t\t\t\t\t\t\t\t\t\t></label>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="overley"></div>\n\t\t\t\t</li>\n\t\t`,document.querySelector("#roles-management > div.container.body").append(a),a.querySelectorAll(".select-combobox").forEach((t=>{t.nextElementSibling.querySelectorAll("label.radio-box").forEach((e=>e.querySelector(".toggle-radio").onclick=()=>{t.children[0].textContent=e.children[0].textContent}))})),a.querySelector('input[data-role="vip"]').click();let l=e;for(let e=0;e<t.length;e++){l=l[t[e]]}l[n]={id:"",role:""},localStorage.setItem("config",JSON.stringify(e)),a.querySelector(`#player-${o}-pb-roles`).oninput=o=>{let a=o.target.value,l=e;for(let e=0;e<t.length;e++){l=l[t[e]]}l[n].id=a,localStorage.setItem("config",JSON.stringify(e))},a.querySelectorAll("input[type='radio']").forEach((o=>{o.addEventListener("click",(o=>{let a=o.target.dataset.role,l=e;for(let e=0;e<t.length;e++){l=l[t[e]]}l[n].role=a,localStorage.setItem("config",JSON.stringify(e))}))})),a.querySelectorAll("li.popup > button").forEach((t=>{t.addEventListener("click",(async()=>{let e=t.nextElementSibling,n=e.nextElementSibling;e.style.display="flex",n.style.display="block",await delay(0),e.style.opacity="1",n.style.opacity="1",e.style.transform="translate(-50%, -50%) scale(1)",e.querySelector(" .close ").onclick=async()=>{e.style.opacity="0",n.style.opacity="0",e.style.transform="translate(-50%, -50%) scale(0)",await delay(350),e.style.display="none",n.style.display="none"},n.onclick=async()=>{e.style.opacity="0",n.style.opacity="0",e.style.transform="translate(-50%, -50%) scale(0)",await delay(350),e.style.display="none",n.style.display="none"}}))}))}function storeElesValues(){const t=vars.elesToSaveData,e=JSON.parse(localStorage.getItem("config"))||{};vars.radioElesToSaveData.forEach((t=>{let n=document.querySelectorAll(`[data-group="${t.group}"]`);n.forEach((o=>o.onclick=a=>{n.forEach((t=>t.checked=!1)),o.checked=!0;let l=e,r=o.dataset.bombname;for(let e=0;e<t.settingIds.length-1;e++){l=l[t.settingIds[e]]}l[t.settingIds[t.settingIds.length-1]]=r,localStorage.setItem("config",JSON.stringify(e))}))})),t.forEach((t=>{const n=document.querySelector(t.id);if(!n)return;const o="input"===t.type?"input":"click";"color-chooser"===t.type||"time-chooser"===t.type?n.oninput=n=>{let o=n.target.value,a=e;for(let e=0;e<t.settingIds.length-1;e++){a=a[t.settingIds[e]]}a[t.settingIds[t.settingIds.length-1]]=o,localStorage.setItem("config",JSON.stringify(e))}:n.addEventListener(o,(n=>{let o;"input"===t.type&&(o=n.target.value),"switch"===t.type&&(o=n.target.checked),"number-chooser"===t.type&&(o=parseInt(n.target.textContent)),"color-chooser"===t.type&&(o=n.target.value);let a=e;for(let e=0;e<t.settingIds.length-1;e++){a=a[t.settingIds[e]]}a[t.settingIds[t.settingIds.length-1]]=o,localStorage.setItem("config",JSON.stringify(e))}))}))}function showLoginScreen(){new Promise(((t,e)=>{JSON.parse(localStorage.getItem("config"))?t(JSON.parse(localStorage.getItem("config"))):e("Error")})).then((t=>{if(localStorage.getItem("password")&&localStorage.getItem("password")===t["server-website"]["server-password"])document.body.classList.remove("disable-scrolling");else{history.pushState({screen:""},"",`${window.location.origin}`),document.body.classList.add("disable-scrolling");let e=document.createElement("div");e.className="login-screen",e.id="login-screen",e.style.opacity="1",e.innerHTML=' \n\t\t\t<div class="popup-window">\n\t\t\t\t<div class="popup-header"><h5>Login</h5></div>\n\t\t\t\t<div class="body">\n\t\t\t\t\t<form action>\n\t\t\t\t\t\t<label class="password-form d-flex align-items-center flex-column"\n\t\t\t\t\t\t\t><span class="me-auto">Enter Your Password:</span>\n\t\t\t\t\t\t\t<div class="d-flex w-100 mt-1">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclass="me-1 d-block w-100"\n\t\t\t\t\t\t\t\t\tid="login-password"\n\t\t\t\t\t\t\t\t\ttype="password"\n\t\t\t\t\t\t\t\t\tname="login-password"\n\t\t\t\t\t\t\t\t\tplaceholder="Password"\n\t\t\t\t\t\t\t\t\tautocomplete="new-password"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<button class="show-or-hide circle">\n\t\t\t\t\t\t\t\t<i class="fa-solid fa-eye"></i>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="wrong-password-text"> Wrong Password</div>\n\t\t\t\t\t\t\t\t<button class="login w-100">Login</button></label\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="overley"></div>\n\t\t\t',document.body.children[0].before(e);let n=e.querySelector(".show-or-hide");n.onclick=t=>{t.preventDefault(),"password"===n.previousElementSibling.type?(n.previousElementSibling.type="text",n.innerHTML='<i class="fa-solid fa-eye-slash"> </i>'):"text"===n.previousElementSibling.type&&(n.previousElementSibling.type="password",n.innerHTML='<i class="fa-solid fa-eye"></i>')},e.querySelector("button.login").addEventListener("click",(async n=>{n.preventDefault();let o=e.querySelector("#login-password");o.value===t["server-website"]["server-password"]?(document.body.classList.remove("disable-scrolling"),e.style.opacity="0",await delay(350),e.remove(),localStorage.setItem("password",t["server-website"]["server-password"])):(""==o.value?e.querySelector(".wrong-password-text").textContent="Empty Input Field":e.querySelector(".wrong-password-text").textContent="Wrong Password ",e.querySelector(".wrong-password-text").style.opacity="1")}))}}),(t=>console.error(t)))}export{loadSettings,initializeFromURL,delay,navigateToScreen,updateURL,theme,sendMessage,storeElesValues,showLoginScreen,loadRoles,createNewRoleBlock};
//# sourceMappingURL=maps/functions.js.map
