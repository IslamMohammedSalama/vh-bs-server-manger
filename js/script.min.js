const delay=e=>new Promise((t=>setTimeout(t,e)));function sendMessege(e){let t=document.querySelector(".chat-screen .messeges"),n=document.createElement("p");n.textContent=`ServerName : ${e}`,t.appendChild(n),n.scrollIntoView({behavior:"smooth"})}function updateURL(e){const t=e.replace("-screen",""),n={screen:t};history.pushState(n,"",`${window.location.pathname}#${t}`)}async function navigateToScreen(e){const t=document.querySelector("."+e);t&&(t.style.display="block",await delay(10),t.style.left=0,document.body.classList.add("disable-scrolling"),updateURL(e))}function initializeFromURL(){const e=window.location.hash.substring(1);e&&navigateToScreen(e+"-screen")}window.addEventListener("popstate",(function(e){e.state&&e.state.screen?navigateToScreen(e.state.screen+"-screen"):(document.querySelectorAll(".screen").forEach((e=>{e.style.left="100dvw",e.style.display="none"})),document.body.classList.remove("disable-scrolling"))})),document.querySelectorAll("button").forEach((e=>e.onclick=e=>e.preventDefault()));let navs=document.querySelectorAll("body > .container > ul > li:not(.discord)");navs.forEach((e=>{e.onclick=async()=>{let t=document.querySelector(`.${e.className}-screen`);t.style.display="block",await delay(0),t.style.left="0",document.body.classList.add("disable-scrolling"),updateURL(e.className)}}));let screens=document.querySelectorAll(".screen");screens.forEach((e=>{e.querySelector(".header").querySelector(".back").onclick=async()=>{history.replaceState("","",`${window.location.pathname}`),e.style.left="100dvw",document.body.classList.remove("disable-scrolling"),await delay(500),e.style.display="none"}}));let sendBtn=document.querySelector(".chat-screen .write-messeges form button");sendBtn.onclick=e=>{e.preventDefault();let t=document.querySelector(".chat-screen .write-messeges textarea");sendMessege(t.value),t.value="",t.focus()},document.querySelector(".write-messeges textarea").addEventListener("keypress",(e=>{if("Enter"===e.key){e.preventDefault();let t=document.querySelector(".chat-screen .write-messeges textarea");sendMessege(t.value),t.value="",t.focus()}})),document.querySelectorAll("textarea").forEach((e=>{e.addEventListener("keypress",(e=>{"Enter"===e.key&&e.preventDefault()}))}));let jsonContent,fileChooser=document.querySelector(".import-and-export-settings-screen input[type='file']");fileChooser.addEventListener("change",(e=>{const t=e.target.files[0];if(!t)return;const n=new FileReader;n.readAsText(t),n.onload=e=>{const t=e.target.result;jsonContent=t,console.log(jsonContent)},n.onerror=e=>{console.error("Error reading file:",e.target.error)}}));let UploadSettingsButton=document.querySelector(".import-and-export-settings-screen .upload-btn");UploadSettingsButton.onclick=e=>{e.preventDefault(),UploadSettingsButton.nextElementSibling.click()};let exportSettingsButton=document.querySelector(".import-and-export-settings-screen .export-btn");exportSettingsButton.onclick=e=>{e.preventDefault(),fetch("assets/json/config.json").then((e=>e.json())).then((e=>{let t=document.createElement("a"),n=new Blob([JSON.stringify(e,null,2)],{type:"application/json"});t.href=URL.createObjectURL(n),t.download="config.json",t.click(),URL.revokeObjectURL(t.href),t.remove()}))},document.querySelectorAll(".number-chooser > span:last-of-type").forEach((e=>{e.children[0].onclick=t=>{e.children[1].textContent++},e.children[2].onclick=t=>{e.children[1].textContent<=+e.children[1].dataset.min||e.children[1].textContent--}}));let popupOpeners=document.querySelectorAll("li.popup > div:first-child");popupOpeners.forEach((e=>{e.onclick=async()=>{let t=e.nextElementSibling,n=t.nextElementSibling;t.style.display="flex",n.style.display="block",await delay(0),t.style.opacity="1",n.style.opacity="1",t.style.transform="translate(-50%, -50%) scale(1)",t.querySelector(" .popup-header .close ").onclick=async()=>{t.style.opacity="0",n.style.opacity="0",t.style.transform="translate(-50%, -50%) scale(0)",await delay(300),t.style.display="none",n.style.display="none"},n.onclick=async()=>{t.style.opacity="0",n.style.opacity="0",t.style.transform="translate(-50%, -50%) scale(0)",await delay(300),t.style.display="none",n.style.display="none"}}})),document.addEventListener("DOMContentLoaded",(function(){initializeFromURL()}));
//# sourceMappingURL=maps/script.min.js.map
